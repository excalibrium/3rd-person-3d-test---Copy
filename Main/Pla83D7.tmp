[gd_scene load_steps=15 format=3 uid="uid://c7ir0g4sqopgj"]

[ext_resource type="Script" path="res://Main/Player.gd" id="1_g0u74"]
[ext_resource type="PackedScene" uid="uid://b6u4r8e00b7cy" path="res://Main/UIelements/StaminaBar.tscn" id="2_vj0li"]
[ext_resource type="Texture2D" uid="uid://ca5rr1kabu72j" path="res://Objects/Pita/color_map.jpg" id="3_eqtj2"]
[ext_resource type="Texture2D" uid="uid://bjlv4lr1bhfnv" path="res://Objects/Pita/normal_map_opengl.jpg" id="4_5ejw3"]
[ext_resource type="PackedScene" uid="uid://dmr0fcamx7t56" path="res://joystick/virtual_joystick.tscn" id="5_yrbp5"]
[ext_resource type="Script" path="res://Main/ButtonTouch.gd" id="6_k36rp"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_50y24"]
albedo_texture = ExtResource("3_eqtj2")
normal_enabled = true
normal_texture = ExtResource("4_5ejw3")

[sub_resource type="CapsuleMesh" id="CapsuleMesh_on52y"]
material = SubResource("StandardMaterial3D_50y24")

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_l44ut"]

[sub_resource type="BoxMesh" id="BoxMesh_a0phm"]

[sub_resource type="Animation" id="Animation_ytgvw"]
resource_name = "Idle"

[sub_resource type="Animation" id="Animation_ratrd"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("BaseModel3D/MeshInstance3D:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_e7mqy"]
resource_name = "RotateSharp"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("BaseModel3D/MeshInstance3D:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(1, 1, 1), Vector3(1, 1, -1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_52qaf"]
_data = {
"Idle": SubResource("Animation_ytgvw"),
"RESET": SubResource("Animation_ratrd"),
"Rotate": SubResource("Animation_e7mqy")
}

[node name="CharacterBody3D" type="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
script = ExtResource("1_g0u74")

[node name="BaseModel3D" type="Node3D" parent="."]

[node name="MeshInstance3D" type="MeshInstance3D" parent="BaseModel3D"]
transform = Transform3D(-1, -1.50996e-07, 0, 1.50996e-07, -1, 0, 0, 0, 1, 0, 0, 0)
mesh = SubResource("CapsuleMesh_on52y")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_l44ut")

[node name="view" type="Node3D" parent="."]
transform = Transform3D(0.1, 0, 0, 0, 0.1, 0, 0, 0, 1, 0, 1, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="view"]
mesh = SubResource("BoxMesh_a0phm")

[node name="view_anchor" type="Node3D" parent="."]
transform = Transform3D(-1, 0, -8.74227e-08, 0, 0.999999, 0, 8.74228e-08, 0, -0.999999, 0, 0.5, 0)

[node name="Node3D" type="Node3D" parent="view_anchor"]
transform = Transform3D(1, 0, -1.42109e-14, 0, 1, 0, 2.84217e-14, 0, 1, 0, 0.2, 4)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="StaminaBar" parent="CanvasLayer" instance=ExtResource("2_vj0li")]
offset_left = 26.0
offset_top = 24.0
offset_right = 266.0
offset_bottom = 38.0

[node name="Test" type="Node2D" parent="."]

[node name="UI" type="CanvasLayer" parent="Test"]

[node name="Virtual joystick left" parent="Test/UI" instance=ExtResource("5_yrbp5")]
pressed_color = Color(1, 0.6, 0.776471, 1)
joystick_mode = 1
visibility_mode = 1
action_left = "moveLeft"
action_right = "moveRight"
action_up = "moveForward"
action_down = "moveBackward"

[node name="ButtonA" type="Control" parent="Test/UI"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("6_k36rp")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_52qaf")
}

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, -7.10543e-15, 0, 1, 0, 7.10543e-15, 0, 1, 0, 1, 0)
top_level = true
